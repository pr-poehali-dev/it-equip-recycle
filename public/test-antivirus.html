<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üõ°Ô∏è –¢–µ—Å—Ç –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∞–π–ª–æ–≤</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .file-list { margin: 20px 0; }
        .file-item { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 10px; 
            background: #f0f9ff; 
            border: 1px solid #0ea5e9; 
            border-radius: 6px; 
            margin: 5px 0; 
        }
        .file-safe { background: #dcfce7; border-color: #22c55e; }
        .file-danger { background: #fef2f2; border-color: #ef4444; }
        .remove-btn { 
            background: #ef4444; 
            color: white; 
            border: none; 
            padding: 5px 10px; 
            border-radius: 4px; 
            cursor: pointer; 
        }
        .upload-area {
            border: 2px dashed #ccc;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            border-radius: 8px;
            margin: 20px 0;
        }
        .upload-area:hover { border-color: #0ea5e9; }
        button { 
            background: #0ea5e9; 
            color: white; 
            border: none; 
            padding: 12px 24px; 
            border-radius: 6px; 
            cursor: pointer; 
            font-size: 16px; 
            margin: 5px;
        }
        button:hover { background: #0284c7; }
        button:disabled { background: #ccc; cursor: not-allowed; }
        input[type="text"], input[type="email"], input[type="tel"] {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .warning { background: #fef3c7; border: 1px solid #f59e0b; padding: 15px; border-radius: 6px; margin: 10px 0; }
        .success { background: #dcfce7; border: 1px solid #22c55e; padding: 15px; border-radius: 6px; margin: 10px 0; }
        .error { background: #fef2f2; border: 1px solid #ef4444; padding: 15px; border-radius: 6px; margin: 10px 0; }
        .scan-results { margin: 20px 0; padding: 15px; background: #f8fafc; border-radius: 6px; }
    </style>
</head>
<body>
    <h1>üõ°Ô∏è –¢–µ—Å—Ç –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∞–π–ª–æ–≤</h1>
    <p>–≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –Ω–∞ utilizon.pro</p>

    <div class="warning">
        <h3>‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ—á—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ FormSubmit:</h3>
        <ul>
            <li><strong>–ú–∞–∫—Å–∏–º—É–º 5 —Ñ–∞–π–ª–æ–≤</strong> –∑–∞ –æ–¥–Ω—É –æ—Ç–ø—Ä–∞–≤–∫—É</li>
            <li><strong>–†–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞:</strong> –¥–æ 3 –ú–ë</li>
            <li><strong>–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤:</strong> –¥–æ 4 –ú–ë</li>
            <li><strong>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:</strong> .xlsx, .xls, .docx, .doc, .pdf</li>
        </ul>
    </div>

    <form id="testForm">
        <input type="text" name="name" placeholder="–í–∞—à–µ –∏–º—è" required>
        <input type="email" name="email" placeholder="Email" required>
        <input type="tel" name="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" required>
        
        <div class="upload-area" onclick="document.getElementById('fileInput').click()">
            <p><strong>üîç –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏</strong></p>
            <p>–ë—É–¥–µ—Ç –ø—Ä–æ–≤–µ–¥–µ–Ω–∞ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞</p>
            <input type="file" id="fileInput" multiple accept=".xlsx,.xls,.docx,.doc,.pdf" style="display: none;">
        </div>
        
        <div id="scanResults" class="scan-results" style="display: none;">
            <h3>üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:</h3>
            <div id="scanDetails"></div>
        </div>
        
        <div id="fileList" class="file-list"></div>
        
        <button type="submit" id="submitBtn" disabled>üìß –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã</button>
        <button type="button" onclick="clearFiles()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ</button>
    </form>

    <div id="result" style="margin-top: 20px;"></div>

    <script>
        let selectedFiles = [];
        let scannedFiles = [];
        const maxFiles = 5;
        const maxFileSize = 3 * 1024 * 1024; // 3 –ú–ë
        const maxTotalSize = 4 * 1024 * 1024; // 4 –ú–ë –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä

        // –ê–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞
        async function scanFileForVirus(file) {
            const results = {
                fileName: file.name,
                fileSize: file.size,
                fileType: file.type,
                isClean: false,
                warnings: [],
                errors: []
            };

            try {
                // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–∞
                const allowedExtensions = ['.xlsx', '.xls', '.docx', '.doc', '.pdf'];
                const fileExtension = file.name.toLowerCase().substring(file.name.lastIndexOf('.'));
                
                if (!allowedExtensions.includes(fileExtension)) {
                    results.errors.push(`–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ: ${fileExtension}`);
                    return results;
                }

                // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ MIME-—Ç–∏–ø–∞
                const allowedMimeTypes = [
                    'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', // .xlsx
                    'application/vnd.ms-excel', // .xls
                    'application/vnd.openxmlformats-officedocument.wordprocessingml.document', // .docx
                    'application/msword', // .doc
                    'application/pdf' // .pdf
                ];
                
                if (file.type && !allowedMimeTypes.includes(file.type)) {
                    results.warnings.push(`–ù–µ–æ–±—ã—á–Ω—ã–π MIME-—Ç–∏–ø: ${file.type}`);
                }

                // 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
                if (file.size > maxFileSize) {
                    results.errors.push(`–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π: ${(file.size / 1024 / 1024).toFixed(2)} –ú–ë (–º–∞–∫—Å–∏–º—É–º 3 –ú–ë)`);
                    return results;
                }

                if (file.size === 0) {
                    results.errors.push('–§–∞–π–ª –ø—É—Å—Ç–æ–π (0 –±–∞–π—Ç)');
                    return results;
                }

                // 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö –±–∞–π—Ç–æ–≤ (—Å–∏–≥–Ω–∞—Ç—É—Ä)
                const arrayBuffer = await file.arrayBuffer();
                const bytes = new Uint8Array(arrayBuffer);
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–≤—ã–µ –±–∞–π—Ç—ã –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–æ—Ä–º–∞—Ç—É
                const pdfSignature = [0x25, 0x50, 0x44, 0x46]; // %PDF
                const zipSignature = [0x50, 0x4B, 0x03, 0x04]; // PK (–¥–ª—è .docx, .xlsx)
                const docSignature = [0xD0, 0xCF, 0x11, 0xE0]; // –¥–ª—è —Å—Ç–∞—Ä—ã—Ö .doc, .xls
                
                const startsWithPdf = bytes.slice(0, 4).every((byte, i) => byte === pdfSignature[i]);
                const startsWithZip = bytes.slice(0, 4).every((byte, i) => byte === zipSignature[i]);
                const startsWithDoc = bytes.slice(0, 4).every((byte, i) => byte === docSignature[i]);
                
                if (!startsWithPdf && !startsWithZip && !startsWithDoc) {
                    results.errors.push('–§–∞–π–ª –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∑–∞—è–≤–ª–µ–Ω–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É (–Ω–µ–≤–µ—Ä–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞)');
                    return results;
                }

                // 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
                const fileStart = new TextDecoder('utf-8', { fatal: false }).decode(bytes.slice(0, 1024));
                const suspiciousPatterns = [
                    'javascript:', 'vbscript:', '<script', 'eval(', 'document.write',
                    'shell.application', 'wscript.shell', '.exe', '.bat', '.cmd', 'powershell'
                ];
                
                for (const pattern of suspiciousPatterns) {
                    if (fileStart.toLowerCase().includes(pattern)) {
                        results.errors.push(`–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ${pattern}`);
                        return results;
                    }
                }

                // 6. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è Office —Ñ–∞–π–ª–æ–≤
                if (startsWithZip && (fileExtension === '.docx' || fileExtension === '.xlsx')) {
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ Office —Ñ–∞–π–ª, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ ZIP
                    const fileContent = new TextDecoder('utf-8', { fatal: false }).decode(bytes);
                    const hasOfficeMarkers = fileContent.includes('word/') || fileContent.includes('xl/') || 
                                           fileContent.includes('docProps/') || fileContent.includes('[Content_Types].xml');
                    
                    if (!hasOfficeMarkers) {
                        results.warnings.push('–§–∞–π–ª –∏–º–µ–µ—Ç ZIP-—Å—Ç—Ä—É–∫—Ç—É—Ä—É, –Ω–æ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö Office-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤');
                    }
                }

                // –ï—Å–ª–∏ –¥–æ—à–ª–∏ –¥–æ —Å—é–¥–∞ –±–µ–∑ –æ—à–∏–±–æ–∫ - —Ñ–∞–π–ª —á–∏—Å—Ç—ã–π
                results.isClean = true;
                console.log(`‚úÖ –§–∞–π–ª ${file.name} –ø—Ä–æ—à—ë–ª –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É`);

            } catch (error) {
                console.error(`‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ñ–∞–π–ª–∞ ${file.name}:`, error);
                results.errors.push(`–û—à–∏–±–∫–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: ${error.message}`);
            }

            return results;
        }

        document.getElementById('fileInput').addEventListener('change', async function(e) {
            const newFiles = Array.from(e.target.files);
            
            if (newFiles.length === 0) return;

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
            const scanResults = document.getElementById('scanResults');
            const scanDetails = document.getElementById('scanDetails');
            scanResults.style.display = 'block';
            scanDetails.innerHTML = '<p>üîç –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤...</p>';

            // –°–∫–∞–Ω–∏—Ä—É–µ–º –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª
            const scanPromises = newFiles.map(file => scanFileForVirus(file));
            const results = await Promise.all(scanPromises);

            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            scanDetails.innerHTML = results.map(result => `
                <div class="scan-result ${result.isClean ? 'success' : 'error'}">
                    <h4>${result.isClean ? '‚úÖ' : '‚ùå'} ${result.fileName}</h4>
                    <p><strong>–†–∞–∑–º–µ—Ä:</strong> ${(result.fileSize / 1024 / 1024).toFixed(2)} –ú–ë</p>
                    <p><strong>–¢–∏–ø:</strong> ${result.fileType || '–ù–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω'}</p>
                    ${result.warnings.length > 0 ? `<p><strong>‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:</strong><br>${result.warnings.join('<br>')}</p>` : ''}
                    ${result.errors.length > 0 ? `<p><strong>‚ùå –û—à–∏–±–∫–∏:</strong><br>${result.errors.join('<br>')}</p>` : ''}
                </div>
            `).join('');

            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–µ —Ñ–∞–π–ª—ã
            const cleanFiles = results.filter(r => r.isClean).map((r, i) => newFiles[i]);
            const currentTotal = [...selectedFiles, ...cleanFiles].slice(0, maxFiles);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä
            const totalSize = currentTotal.reduce((sum, file) => sum + file.size, 0);
            if (totalSize > maxTotalSize) {
                alert(`–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 4 –ú–ë. –¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä: ${(totalSize / 1024 / 1024).toFixed(2)} –ú–ë`);
                return;
            }

            selectedFiles = currentTotal;
            scannedFiles = results;
            
            updateFileList();
            updateSubmitButton();

            if (cleanFiles.length < newFiles.length) {
                alert(`–ò–∑ ${newFiles.length} —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ—à–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É: ${cleanFiles.length}`);
            }
        });

        function updateFileList() {
            const fileList = document.getElementById('fileList');
            
            if (selectedFiles.length === 0) {
                fileList.innerHTML = '';
                return;
            }
            
            const totalSize = selectedFiles.reduce((sum, file) => sum + file.size, 0);
            
            fileList.innerHTML = `
                <h3>üìÅ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (${selectedFiles.length} –∏–∑ ${maxFiles}, ${(totalSize / 1024 / 1024).toFixed(2)} –ú–ë –∏–∑ 4 –ú–ë):</h3>
                ${selectedFiles.map((file, index) => `
                    <div class="file-item file-safe">
                        <div>
                            <strong>‚úÖ ${file.name}</strong><br>
                            <small>${(file.size / 1024 / 1024).toFixed(2)} –ú–ë</small>
                        </div>
                        <button type="button" class="remove-btn" onclick="removeFile(${index})">‚úï</button>
                    </div>
                `).join('')}
            `;
        }

        function removeFile(index) {
            selectedFiles.splice(index, 1);
            scannedFiles.splice(index, 1);
            updateFileList();
            updateSubmitButton();
        }

        function clearFiles() {
            selectedFiles = [];
            scannedFiles = [];
            document.getElementById('scanResults').style.display = 'none';
            updateFileList();
            updateSubmitButton();
        }

        function updateSubmitButton() {
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = selectedFiles.length === 0;
            submitBtn.textContent = selectedFiles.length > 0 
                ? `üìß –û—Ç–ø—Ä–∞–≤–∏—Ç—å ${selectedFiles.length} –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤`
                : 'üìß –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã';
        }

        document.getElementById('testForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (selectedFiles.length === 0) {
                alert('–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª—ã –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏');
                return;
            }
            
            const result = document.getElementById('result');
            result.innerHTML = '<div class="warning"><p>üîÑ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ HTML-—Ñ–æ—Ä–º—É...</p></div>';
            
            // –°–æ–∑–¥–∞—ë–º HTML-—Ñ–æ—Ä–º—É –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ (–∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –∫–æ–¥–µ)
            const htmlForm = document.createElement('form');
            htmlForm.method = 'POST';
            htmlForm.action = 'https://formsubmit.co/commerce@rusutil-1.ru';
            htmlForm.enctype = 'multipart/form-data';
            htmlForm.style.display = 'none';
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è
            const fields = [
                { name: 'name', value: document.querySelector('input[name="name"]').value },
                { name: 'email', value: document.querySelector('input[name="email"]').value },
                { name: 'phone', value: document.querySelector('input[name="phone"]').value },
                { name: 'subject', value: '–¢–ï–°–¢: –§–∞–π–ª—ã —Å –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π - utilizon.pro' },
                { name: '_captcha', value: 'false' },
                { name: '_template', value: 'table' },
                { name: '_next', value: 'https://utilizon.pro/success' },
                { name: '_error', value: 'https://utilizon.pro/error' },
                { name: 'files_count', value: selectedFiles.length.toString() },
                { name: 'file_names', value: selectedFiles.map(f => f.name).join(', ') }
            ];
            
            fields.forEach(field => {
                const input = document.createElement('input');
                input.type = 'hidden';
                input.name = field.name;
                input.value = field.value;
                htmlForm.appendChild(input);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ file input
            const fileInput = document.createElement('input');
            fileInput.type = 'file';
            fileInput.name = 'attachment';
            fileInput.multiple = true;
            fileInput.style.display = 'none';
            
            // –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π FileList –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∞–π–ª–æ–≤
            const dataTransfer = new DataTransfer();
            selectedFiles.forEach(file => {
                dataTransfer.items.add(file);
            });
            fileInput.files = dataTransfer.files;
            
            htmlForm.appendChild(fileInput);
            document.body.appendChild(htmlForm);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –æ—Ç–ø—Ä–∞–≤–∫–µ
            result.innerHTML = `
                <div class="success">
                    <h3>üöÄ –§–∞–π–ª—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è!</h3>
                    <p><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤:</strong> ${selectedFiles.length}</p>
                    <p><strong>–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä:</strong> ${(selectedFiles.reduce((sum, file) => sum + file.size, 0) / 1024 / 1024).toFixed(2)} –ú–ë</p>
                    <p><strong>–í—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ—à–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</strong></p>
                    <p>–°–µ–π—á–∞—Å –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è...</p>
                </div>
            `;
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                htmlForm.submit();
            }, 2000);
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateSubmitButton();
    </script>
</body>
</html>